# なぜ学習初期にSQLiteとMySQLを使うのか？──環境構築の疑問から見えたSQL理解の必要性

## この記事の説明：
プログラミングスクールのカリキュラムに沿って環境構築を行い、アプリを動かすことはできました。しかしふと、「この構築手順を自分の言葉で説明できるだろうか？」という疑問が湧きました。

また、教材によって用意された環境は、学びのきっかけとしては非常に有効です。しかし同時に、「なぜスクールは学習の初期段階にSQLiteとMySQLという2つのデータベースを選んだのか？」という点にも疑問を持ちました。

本記事では、そうした疑問を起点に、SQLの理解の必要性とSQLite・MySQLという選択の背景の2軸について掘り下げていきます。

## SQLiteとMySQLについての説明：

SQLiteとMySQLは、どちらも「リレーショナルデータベース管理システム（RDBMS）」です。
リレーショナルデータベース管理システム（RDBMS）を説明すると

### RDBMS の意味:

| 略語     | 正式名称                         | 意味                                     |
|----------|----------------------------------|------------------------------------------|
| R        | Relational（リレーショナル）     | 関係（テーブル同士のつながりを表現）     |
| DB       | DataBase（データベース）         | データを蓄える場所（テーブル形式でデータを管理する）     |
| MS       | Management System（管理システム）| データを操作・管理するための仕組み       |

つまり、関係的（Relational）な構造を持つデータベースを、管理するためのシステムのことです。


## SQLite vs MySQL の技術的違い

環境構築と本番環境でなぜデータベースを分ける必要があったのか、その違いを表形式で表してみました。

| 比較項目         | SQLite                                                   | MySQL                                                      |
|------------------|----------------------------------------------------------|-------------------------------------------------------------|
| データ保存形式   | ファイルベース（.sqlite3ファイル1つで完結）             | サーバー型（ネットワーク経由で接続）                       |
| セットアップの容易さ | 非常に簡単。Rails newで自動採用される                    | RDS構築、接続設定、ポート開放などが必要                    |
| 使用シーン       | 小規模開発、学習、テスト                                 | 商用Webアプリ、本番運用、大規模システム                    |
| パフォーマンス   | 軽量で高速だが、複数同時アクセスや並列処理は苦手        | 複数ユーザー・並列接続に強く、チューニング手段も豊富       |
| スケーラビリティ | 低い（個人開発や一人用のツール向け）                    | 高い（複数ユーザーやアクセス集中にも対応）                |
| トランザクション | 一部制限あり。ACIDは一応保証されている                   | ACID完全対応、InnoDBによる高度な制御が可能                |
| 標準採用状況     | Rails初期設定のデフォルト                                 | 本番環境で広く使われる。AWS RDSでも選択肢として有名       |
| 管理ツール       | 基本的に不要。ファイルを直接扱う                          | MySQL WorkbenchやCLIなど複数のツールで接続・操作が可能    |

### 用語ごとの補足説明：
①データベースにおけるチューニングとは？
MySQLは、SQLiteと違い以下のような課題に対して、性能を最適化するための調整（チューニング）を柔軟に実施できます。
- データが多くなると、ページ表示が遅くなる→検索を速くするため、特定のカラムに目印（索引）をつけて対応（インデックスの追加）。
- 複数ユーザーが同時にアクセスするとエラーが出る→同時接続数を制限し、リソースの集中を防ぐ。
こちらは、チューニング施策の一例です。

②スケーラビリティとは？
「システムの利用者やデータ量が増えても、性能を保ったまま拡張できる能力」のことです。
たとえば最初は少人数で使っていたアプリでも、ユーザーが何倍にも増えたり、投稿データが大量になっても、落ちたり重くなったりせずに対応できる状態を「スケーラビリティが高い」と言います。

③トランザクションとは？
トランザクションとは、「複数の処理を1つのまとまりとして扱い、すべて成功するか、1つでも失敗したら全部なかったことにする仕組み」のことです。

たとえば、銀行で「口座Aから1万円引き出して、口座Bに1万円振り込む」という処理があったとします。
このとき、引き出しだけ成功して振込が失敗すると、お金がどこかに消えてしまいます。
そうならないように、「全部成功したら確定、どれか失敗したら全体をキャンセル」するのがトランザクションです。

このトランザクション機能によって、データの整合性（矛盾がない状態）を保つことができます。

④ACIDとは？
ACID は、データベースの「トランザクション」が守るべき4つの重要な性質を表す言葉です。
各文字は、それぞれの特性の頭文字を取った略語です。

- A：Atomicity（原子性）
「全部やるか、全部やらないか」という意味で、処理が途中で止まったり、一部だけ実行されたりしないようにする性質です。
たとえば「商品を購入 → 在庫を減らす → 注文履歴に記録」などの一連の処理が、全部成功したときだけ確定されます。

- C：Consistency（一貫性）
「処理の前後でデータのルールが崩れない」という意味で、トランザクションが終わったあとも、データが正しい状態を保っていること。
たとえば「在庫がマイナスになる」「存在しない商品に注文が入る」など、おかしな状態にならないように保証します。

- I：Isolation（分離性）
「同時に複数の処理をしても、お互いに影響を与えない」という意味で、他のユーザーが同じデータを更新していても、自分の処理に影響が出ないように分離して処理します。
例：2人が同時にカートに商品を追加しても、どちらかの操作が無視されたり混ざったりしないようにする。

- D：Durability（永続性）
「一度成功した処理は、システムが落ちても消えない」
トランザクションが完了した後のデータは、電源が落ちたりしても必ず残るように保証されます。

⑤ InnoDB（イノ・ディー・ビー）とは？
- MySQLで使われるストレージエンジンのひとつで、ACIDを保証するための具体的な仕組み（制御ロジックや内部処理）を担っています。
- 特に以下の3つの特徴があります：
  - **ACID準拠** → トランザクションを安全に処理でき、失敗時にはロールバック（巻き戻し）も可能です。
  - **外部キー制約あり** → テーブル同士の「関係（リレーション）」を保つルールを強制できます（例：親データが消えたら子も自動で削除）。
  - **同時アクセスに強い** → 複数ユーザーの同時処理でも壊れにくい「行ロック」ベースの設計になっています。

⑥MySQLのWorkbench・CLIとは？
MySQLは、画面から操作できるWorkbenchのようなツールもあれば、コマンドで直接操作できるCLIツールもあり、用途や好みに応じて複数の方法で扱える」という意味です


### まとめ
SQLiteは「シンプルさ」と「導入の手軽さ」を重視した軽量なデータベースであり、開発スピードを最優先する環境に適しています。一方、MySQLは大規模運用に耐えうる信頼性とスケーラビリティを備えており、本番環境での使用に最適です。

Railsが開発ではSQLiteを、本番ではMySQLを採用するのは、環境ごとの要件に応じて最適な選択をしているからです。


## RailsでSQLiteとMySQLが使われる理由を他のRDBMSと比較して解説
これまでに、開発環境でSQLiteを、本番環境でMySQLを使う理由について見てきました。
でも実際、他にもデータベースっていろいろありますよね？ じゃあ、なぜそれらではなくSQLiteとMySQLが教材に選ばれたのでしょうか？
この後は、他のSQLの特徴も軽く紹介しながら、「なぜこの2つがRails初学者にとって最適なのか」を掘り下げていきます。

### 主要なRDBMSの比較一覧

| RDBMS名            | 特徴                                                                 | 主な用途・採用事例                           | 無料 or 商用         |
|--------------------|----------------------------------------------------------------------|---------------------------------------------|----------------------|
| SQLite             | ・軽量・インストール不要・ファイルベース                            | モバイルアプリ、開発環境、小規模ツール      | 無料（OSS）          |
| MySQL              | ・高速処理・広く使われている・拡張可能                              | WordPress、予約管理システム、ECサイトなどのWebアプリ  | 無料版あり（商用も） |
| PostgreSQL         | ・高機能・標準SQL準拠・複雑なクエリに強い                           | 金融、GIS、業務システム                      | 無料（OSS）          |
| Oracle Database    | ・高信頼性・トランザクション処理に強い                              | 大企業の基幹系システム、金融                | 商用                 |
| Microsoft SQL Server | ・Windowsとの親和性・GUI管理ツールが豊富                         | 企業内業務アプリ、Windowsサーバー環境       | 無料版あり（商用も） |

#### 他のRDBMSを採用しない理由は、
- PostgreSQL：本番利用では非常に優れた選択肢だが、Rails初心者にとっては学習コストがやや高い
- Oracle / SQL Server：商用ライセンスや運用コストが高く、個人や中小プロジェクトでは非現実的

### まとめ
他のRDBMSが選ばれなかった理由として、「用途が異なる」「初学者にはオーバースペックである」といった点が見えてきました。
スクールは適切な学習環境を用意してくれますが、「なぜその構成なのか」と疑問を持つことで、理解がより深まることを実感しました。

